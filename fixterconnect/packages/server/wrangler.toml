name = "fixterconnect-api"
main = "src/worker.ts"
compatibility_date = "2024-11-01"
compatibility_flags = ["nodejs_compat"]

[observability]
enabled = true

# Environment variables (non-secret)
[vars]
NODE_ENV = "production"

# R2 Bucket for file uploads
# Create bucket with: wrangler r2 bucket create fixterconnect-uploads
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "fixterconnect-uploads"

# Scheduled triggers (cron jobs)
# Quarterly cleanup: runs at midnight on the 1st of Jan, Apr, Jul, Oct
[triggers]
crons = ["0 0 1 1,4,7,10 *"]

# Secrets (set via: wrangler secret put SECRET_NAME)
# Run these commands to set secrets:
# wrangler secret put DATABASE_URL
# wrangler secret put JWT_SECRET
# wrangler secret put STRIPE_SECRET_KEY
# wrangler secret put STRIPE_WEBHOOK_SECRET
# wrangler secret put R2_PUBLIC_URL
